<script>
	widget.componentReadyHandler = function(componentId){
		widget.componentId = componentId;
		document.getElementById(componentId).setLayoutURL("./Widgets/Chart/layout/interaction_chart.xml");
		document.getElementById(componentId).setDataType("json");
		document.getElementById(componentId).setDataURL("./Widgets/Chart/data/interaction_chart.json");
		
		widget.getSlide().addEventListener("gridItemClick", widget.gridItemClickHandler);
	}
	
	widget.itemClickJs = function(seriesId, displayText, index, data, values){
		//차트 아이템 클릭이벤트 발생시 호출됩니다.
		//위젯이 소속된 슬라이드를 얻을 수 있습니다.
		var slide = widget.getSlide();
		//사용자 정의 이벤트를 만들 수 있습니다.
		var evt = BIX5.dashboard.createEvent("chartItemClick");
		
		var detail = {};
		
		detail.widgetId = widget.id;
		detail.componentId = widget.componentId;
		detail.index = index;
		
		//이벤트 전달 시 detail 객체를 통해 필요한 데이터를 담아 보낼 수 있습니다.
		evt.detail = detail;
		
		//사용자 정의 이벤트를 슬라이드에 송출합니다.
		slide.dispatchEvent(evt);
	}
	
	widget.gridItemClickHandler = function(event){
		//그리드의 클릭 이벤트가 발생하면 호출됩니다.
		var component = document.getElementById(widget.componentId); 
		//인수로 넘어온 이벤트의 detail에 클릭한 row index 데이터가 있습니다.
		component.setSelectedIndex(0, event.detail.index);
	}
	
	widget.componentRemoveHandler = function(){
		widget.getSlide().removeEventListener("gridItemClick", widget.gridItemClickHandler);
	}
</script>